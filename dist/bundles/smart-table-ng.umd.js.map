{"version":3,"file":"smart-table-ng.umd.js","sources":["../package/src/table-state.ts","../package/src/smart-table.service.ts","../package/src/st-sort.directive.ts","../package/src/st-filter.directive.ts","../package/src/st-search.directive.ts","../package/src/st-pagination.directive.ts","../package/src/st-table.directive.ts","../package/src/smart-table.module.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\nimport {SortState, SliceState, SearchState} from './commont-types';\n\n@Injectable()\nexport class TableState {\n    filter: Object = {};\n    search: SearchState = {};\n    slice: SliceState = {page: 1, size: 20};\n    sort: SortState = {};\n}\n","import {table as stTable} from 'smart-table-core';\nimport {SearchState, SliceState, SortState, StEvents} from './commont-types';\nimport {TableState} from './table-state';\nimport {Injectable} from '@angular/core';\nimport {from, Subscription, Observable, ObservableInput, of} from 'rxjs/index';\nimport {OnDestroy} from '@angular/core';\n\n@Injectable()\nexport class SmartTable<T> implements OnDestroy {\n    private _directive: any;\n    private _subscription: Subscription;\n    private _data: T[];\n\n    static of<U>(data: U[] = [], tableState = new TableState(), factory = stTable) {\n        return new SmartTable<U>(of(data), tableState, factory);\n    }\n\n    static from<U>(data: ObservableInput<U[]>, tableState = new TableState(), factory = stTable) {\n        return new SmartTable<U>(from(data), tableState, factory);\n    }\n\n    private constructor(private _source: Observable<T[]>, tableState: TableState, factory: Function) {\n        const dataArray: T[] = [];\n        this._data = dataArray;\n        this._directive = factory({data: dataArray, tableState});\n    }\n\n    init(): void {\n        this._directive.dispatch(StEvents.EXEC_CHANGED, {working: true});\n        this._subscription = this._source\n            .subscribe((data: T[]) => {\n                this._data.splice(0, 0, ...data);\n                this._directive.exec();\n            });\n    }\n\n    use(data: T[]) {\n        this._subscription.unsubscribe();\n        this._source = of(data);\n        this._directive.dispatch(StEvents.EXEC_CHANGED, {working: true});\n        this._subscription = this._source\n            .subscribe((values: T[]) => {\n                this._data.splice(0, 0, ...values);\n                this._directive.exec();\n            });\n    }\n\n    sort(newState: SortState): void {\n        return this._directive.sort(newState);\n    }\n\n    filter(newState: Object): void {\n        return this._directive.filter(newState);\n    }\n\n    search(newState: SearchState): void {\n        return this._directive.search(newState);\n    }\n\n    slice(newState: SliceState): void {\n        return this._directive.slice(newState);\n    }\n\n    on(event: string, ...listeners: Function[]): SmartTable<T> {\n        this._directive.on(event, ...listeners);\n        return this;\n    }\n\n    off(event?: string, ...listeners: Function[]): SmartTable<T> {\n        this._directive.off(event, ...listeners);\n        return this;\n    }\n\n    onDisplayChange(handler: Function): void {\n        return this._directive.onDisplayChange(handler);\n    }\n\n    getTableState(): TableState {\n        return this._directive.getTableState();\n    }\n\n    getMatchingItems(): T[] {\n        return this._directive.getMatchingItems();\n    }\n\n    ngOnDestroy(): void {\n        this._subscription.unsubscribe();\n        this._directive.off();\n    }\n}\n","import {Directive, Input, HostBinding, HostListener, OnInit, OnDestroy, ElementRef} from '@angular/core';\nimport {SmartTable} from './smart-table.service';\nimport {sort} from 'smart-table-core';\nimport {SortDirection, SortState} from './commont-types';\n\n\n@Directive({\n    selector: '[stSort]',\n    exportAs: 'stSort'\n})\nexport class StSortDirective<T> implements OnInit, OnDestroy {\n    private _directive: any;\n\n    currentSortDirection: SortDirection = SortDirection.NONE;\n\n    constructor(private table: SmartTable<T>, private _el: ElementRef) {\n    }\n\n    @Input('stSort') pointer: string;\n\n    @Input('stSortCycle') cycle: boolean | string = false;\n\n    @HostBinding('class.st-sort-asc') get isAsc() {\n        return this.currentSortDirection === SortDirection.ASC;\n    }\n\n    @HostBinding('class.st-sort-desc') get isDesc() {\n        return this.currentSortDirection === SortDirection.DESC;\n    }\n\n    @HostListener('click') toggle(): void {\n        this._directive.toggle();\n    }\n\n    ngOnInit() {\n        this._directive = sort({\n            table: this.table, pointer: this.pointer, cycle: this.cycle === true || this.cycle === 'true'\n        });\n        this._directive.onSortToggle(({direction, pointer}: SortState) => {\n            this.currentSortDirection = pointer === this.pointer ? <SortDirection>direction : SortDirection.NONE;\n        });\n    }\n\n    ngOnDestroy() {\n        this._directive.off();\n    }\n}\n","import {Directive, Input, OnInit, OnDestroy, ElementRef} from '@angular/core';\nimport {SmartTable} from './smart-table.service';\nimport {filter} from 'smart-table-core';\nimport {fromEvent, Subscription} from 'rxjs/index';\nimport {FilterOperator, FilterType} from './commont-types';\nimport {debounceTime, distinctUntilChanged, map} from 'rxjs/operators';\n\n@Directive({\n    selector: '[stFilter]',\n    exportAs: 'stFilter'\n})\nexport class StFilterDirective<T> implements OnInit, OnDestroy {\n    private _directive: any;\n    private _inputSubscription: Subscription;\n\n    constructor(private table: SmartTable<T>, private _el: ElementRef) {\n    }\n\n    @Input('stFilter') pointer: string;\n\n    @Input('stFilterOperator') operator = FilterOperator.INCLUDES;\n\n    @Input('stFilterType') type = FilterType.STRING;\n\n    @Input('stDebounceTime') delay = 300;\n\n    filter(value: string): void {\n        return this._directive.filter(value);\n    }\n\n    ngOnInit() {\n        this._directive = filter({\n            pointer: this.pointer,\n            table: this.table,\n            operator: this.operator,\n            type: this.type\n        });\n        this._inputSubscription = fromEvent(this._el.nativeElement, 'input')\n            .pipe(\n                map(($event: any) => (<HTMLInputElement>$event.target).value),\n                debounceTime(this.delay),\n                distinctUntilChanged(),\n            )\n            .subscribe(v => this.filter(v));\n    }\n\n    ngOnDestroy() {\n        this._directive.off();\n        this._inputSubscription.unsubscribe();\n    }\n}\n","import {Directive, Input, OnInit, OnDestroy, ElementRef} from '@angular/core';\nimport {SmartTable} from './smart-table.service';\nimport {search} from 'smart-table-core';\nimport {debounceTime, distinctUntilChanged, map} from 'rxjs/operators';\nimport {Subscription, fromEvent} from 'rxjs/index';\n\n@Directive({\n    selector: '[stSearch]',\n    exportAs: 'stSearch'\n})\nexport class StSearchDirective<T> implements OnInit, OnDestroy {\n    private _directive: any;\n    private _inputSubscription: Subscription;\n\n    constructor(private table: SmartTable<T>, private _el: ElementRef) {\n    }\n\n    @Input('stSearch') scope: string | string[];\n\n    @Input('stDebounceTime') delay = 300;\n\n    search(value: string): void {\n        return this._directive.search(value);\n    }\n\n    ngOnInit() {\n        const scope = Array.isArray(this.scope) ? this.scope : this.scope.split(',').map(p => p.trim());\n        this._directive = search({scope, table: this.table});\n        this._inputSubscription = fromEvent(this._el.nativeElement, 'input')\n            .pipe(\n                map(($event: any) => ($event.target as HTMLInputElement).value),\n                debounceTime(this.delay),\n                distinctUntilChanged(),\n            )\n            .subscribe((v: string) => this.search(v));\n    }\n\n    ngOnDestroy() {\n        this._directive.off();\n        this._inputSubscription.unsubscribe();\n    }\n}\n","import {Directive, OnInit, OnDestroy} from '@angular/core';\nimport {SmartTable} from './smart-table.service';\nimport {slice} from 'smart-table-core';\n\ninterface SummaryOutput {\n    page: number;\n    size: number;\n    filteredCount: number;\n}\n\n@Directive({\n    selector: '[stPagination]',\n    exportAs: 'stPagination'\n})\nexport class StPaginationDirective<T> implements OnInit, OnDestroy {\n    private _directive: any;\n\n    page = 1;\n    size = 20;\n    length: number;\n\n    constructor(private table: SmartTable<T>) {\n    }\n\n    ngOnInit() {\n        this._directive = slice({table: this.table});\n        this._directive.onSummaryChange(({page, size, filteredCount}: SummaryOutput) => {\n            this.page = page;\n            this.size = size;\n            this.length = filteredCount;\n        });\n    }\n\n    ngOnDestroy() {\n        this._directive.off();\n    }\n\n    get lowerBoundIndex(): number {\n        return (this.page - 1) * this.size;\n    }\n\n    get higherBoundIndex(): number {\n        return Math.min(this.page * this.size - 1, this.length - 1);\n    }\n\n    selectPage(p: number): void {\n        return this._directive.selectPage(+(p));\n    }\n\n    selectNextPage(): void {\n        return this._directive.selectNextPage();\n    }\n\n    selectPreviousPage(): void {\n        return this._directive.selectPreviousPage();\n    }\n\n    changePageSize(size: number): void {\n        // Force number cast;\n        return this._directive.changePageSize(+(size));\n    }\n\n    isPreviousPageEnabled(): boolean {\n        return this._directive.isPreviousPageEnabled();\n    }\n\n    isNextPageEnabled(): boolean {\n        return this._directive.isNextPageEnabled();\n    }\n}\n","import {Directive, Output, EventEmitter, OnInit, OnDestroy} from '@angular/core';\nimport {SmartTable} from './smart-table.service';\nimport {ExecState, SliceState, SortState, StEvents, DisplayedItem} from './commont-types';\n\nfunction handleSortChange<T>(this: StTableDirective<T>, state: SortState) {\n    this.sort.emit(state);\n}\n\nfunction handleDisplayChange<T>(this: StTableDirective<T>, items: DisplayedItem<T>[]) {\n    this.items = items;\n    this.display.emit(items);\n}\n\nfunction handleFilterChange<T>(this: StTableDirective<T>, state: any) {\n    this.filter.emit(state);\n}\n\nfunction handleSliceChange<T>(this: StTableDirective<T>, state: SliceState) {\n    this.slice.emit(state);\n}\n\nfunction handleExecChange<T>(this: StTableDirective<T>, state: ExecState) {\n    this.exec.emit(state);\n}\n\n\n@Directive({\n    selector: '[stTable]',\n    exportAs: 'stTable'\n})\nexport class StTableDirective<T> implements OnInit, OnDestroy {\n    items: DisplayedItem<T>[] = [];\n    private displayHandler: Function;\n    private sortHandler: Function;\n    private filterHandler: Function;\n    private sliceHandler: Function;\n    private execHandler: Function;\n\n    @Output() display = new EventEmitter<DisplayedItem<T>[]>();\n    @Output() sort = new EventEmitter<SortState>();\n    @Output() filter = new EventEmitter();\n    @Output() slice = new EventEmitter<SliceState>();\n    @Output() exec = new EventEmitter<ExecState>();\n\n    constructor(private table: SmartTable<T>) {\n    }\n\n    ngOnInit() {\n        this.displayHandler = handleDisplayChange.bind(this);\n        this.sortHandler = handleSortChange.bind(this);\n        this.filterHandler = handleFilterChange.bind(this);\n        this.sliceHandler = handleSliceChange.bind(this);\n        this.execHandler = handleExecChange.bind(this);\n        this.table.onDisplayChange(this.displayHandler);\n        this.table.on(StEvents.TOGGLE_SORT, this.sortHandler);\n        this.table.on(StEvents.FILTER_CHANGED, this.filterHandler);\n        this.table.on(StEvents.PAGE_CHANGED, this.sliceHandler);\n        this.table.on(StEvents.EXEC_CHANGED, this.execHandler);\n        this.table.init();\n    }\n\n    ngOnDestroy() {\n        this.table.off(StEvents.DISPLAY_CHANGED, this.displayHandler);\n        this.table.off(StEvents.TOGGLE_SORT, this.sortHandler);\n        this.table.off(StEvents.FILTER_CHANGED, this.filterHandler);\n        this.table.off(StEvents.PAGE_CHANGED, this.sliceHandler);\n        this.table.off(StEvents.EXEC_CHANGED, this.execHandler);\n    }\n}\n","import {NgModule, ModuleWithProviders} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {StSortDirective} from './st-sort.directive';\nimport {StFilterDirective} from './st-filter.directive';\nimport {StSearchDirective} from './st-search.directive';\nimport {StPaginationDirective} from './st-pagination.directive';\nimport {StTableDirective} from './st-table.directive';\nimport {TableState} from './table-state';\n\n@NgModule({\n    declarations: [\n        StSortDirective,\n        StFilterDirective,\n        StSearchDirective,\n        StPaginationDirective,\n        StTableDirective\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        StPaginationDirective,\n        StSortDirective,\n        StFilterDirective,\n        StSearchDirective,\n        StTableDirective\n    ],\n    providers: []\n})\nexport class SmartTableModule {\n    static forRoot(): ModuleWithProviders {\n        return {ngModule: SmartTableModule, providers: [TableState]};\n    }\n}\n"],"names":["Injectable","of","from","Observable","table","sort","Directive","ElementRef","Input","HostBinding","HostListener","filter","fromEvent","map","debounceTime","distinctUntilChanged","search","slice","EventEmitter","Output","NgModule","CommonModule"],"mappings":"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"}