{"version":3,"file":"st-sort.directive.js","sourceRoot":"","sources":["../package/src/st-sort.directive.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAC,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAoB,MAAM,eAAe,CAAC;AAC7F,OAAO,EAAC,UAAU,EAAC,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAC,IAAI,EAAC,MAAM,kBAAkB,CAAC;;;;AAOtC,MAAM;;;;IAKF,YAAoB,KAAoB;QAApB,UAAK,GAAL,KAAK,CAAe;;qBAKQ,KAAK;KAJpD;;;;QAMqC,KAAK;QACvC,MAAM,CAAC,IAAI,CAAC,oBAAoB,oBAAsB,CAAC;;;;;QAGpB,MAAM;QACzC,MAAM,CAAC,IAAI,CAAC,oBAAoB,sBAAuB,CAAC;;;;;IAGrC,MAAM;QACzB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;;;;;IAG7B,QAAQ;QACJ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM;SAChG,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,EAAC,SAAS,EAAE,OAAO,EAAY,EAAE,EAAE;YAC7D,IAAI,CAAC,oBAAoB,GAAG,OAAO,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,mBAAgB,SAAS,EAAC,CAAC,kBAAmB,CAAC;SACxG,CAAC,CAAC;KACN;;;;IAED,WAAW;QACP,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;KACzB;;;YAvCJ,SAAS,SAAC;gBACP,QAAQ,EAAE,UAAU;gBACpB,QAAQ,EAAE,QAAQ;aACrB;;;;YAPO,UAAU;;;wBAgBb,KAAK,SAAC,QAAQ;sBAEd,KAAK,SAAC,aAAa;sBAEnB,WAAW,SAAC,mBAAmB;uBAI/B,WAAW,SAAC,oBAAoB;uBAIhC,YAAY,SAAC,OAAO","sourcesContent":["import {Directive, Input, HostBinding, HostListener, OnInit, OnDestroy} from '@angular/core';\nimport {SmartTable} from './smart-table.service';\nimport {sort} from 'smart-table-core';\nimport {SortDirection, SortState} from './common-types';\n\n@Directive({\n    selector: '[stSort]',\n    exportAs: 'stSort'\n})\nexport class StSortDirective<T> implements OnInit, OnDestroy {\n    private _directive: any;\n\n    currentSortDirection: SortDirection = SortDirection.NONE;\n\n    constructor(private table: SmartTable<T>) {\n    }\n\n    @Input('stSort') pointer: string;\n\n    @Input('stSortCycle') cycle: boolean | string = false;\n\n    @HostBinding('class.st-sort-asc') get isAsc() {\n        return this.currentSortDirection === SortDirection.ASC;\n    }\n\n    @HostBinding('class.st-sort-desc') get isDesc() {\n        return this.currentSortDirection === SortDirection.DESC;\n    }\n\n    @HostListener('click') toggle(): void {\n        this._directive.toggle();\n    }\n\n    ngOnInit() {\n        this._directive = sort({\n            table: this.table, pointer: this.pointer, cycle: this.cycle === true || this.cycle === 'true'\n        });\n        this._directive.onSortToggle(({direction, pointer}: SortState) => {\n            this.currentSortDirection = pointer === this.pointer ? <SortDirection>direction : SortDirection.NONE;\n        });\n    }\n\n    ngOnDestroy() {\n        this._directive.off();\n    }\n}\n"]}